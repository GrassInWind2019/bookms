#sql 优化操作流程  
## 创建bookms所需数据库及表 
先通过optimize.sql创建数据库及表，执行完毕后，管理员账号为GrassInWind, 密码123 
然后运行bookms（Goland/liteIDE 运行main即可）测试端口号为8080 
浏览器打开http://localhost:8080/-->登录（管理员账号）-->http://localhost:8080/addcategory添加如下分类： 
```
# id, pid, category_name, description, book_count, sort, status, icon
'2', '0', '文学', '文学类书籍', '0', '0', '0', ''
'3', '0', '政史', '政史类书籍', '0', '1', '0', ''
'4', '0', '技术', '技术类书籍', '0', '2', '0', ''
'5', '0', '经管', '经管类书籍', '0', '3', '0', ''
'6', '2', '小说', '小说', '505305', '4', '0', ''
'7', '2', '散文', '散文', '506799', '5', '0', ''
'8', '2', '诗词', '诗词', '504519', '6', '0', ''
'9', '4', '前端', '前端书籍', '505350', '10', '0', ''
'10', '4', '后端', '后端书籍', '501819', '11', '0', ''
'11', '4', '其他技术', '其他技术类书籍', '506208', '15', '0', ''
```
## 构造测试数据集 
执行book_user_favorite.sql生成100万测试数据 
## 通过apachebench工具进行压测 
压测命令见下图： 
其中-c代表并发数，-n代表测试次数，-C表示用户cookie（可通过谷歌浏览器按下f12登录后即可查看到cookie信息） 
![压测示例.png](https://github.com/GrassInWind2019/bookms/blob/master/readme/sql%20optimize/usercenterfav%202020-02-01%20111424.png)
